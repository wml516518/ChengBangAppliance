@model ServiceItem
@{
    ViewData["Title"] = Model.Id == 0 ? "添加服务项目" : "编辑服务项目";
    var types = ViewBag.Types as List<ServiceType> ?? new List<ServiceType>();
}
<div class="card" style="max-width: 400px;">
    <h2>@ViewData["Title"]</h2>
    <div asp-validation-summary="All" class="text-danger"></div>
    <form asp-action="Edit" method="post">
        <input type="hidden" asp-for="Id" />
        <div class="form-group">
            <label asp-for="ServiceTypeId">所属服务类型</label>
            <select asp-for="ServiceTypeId" style="width:100%;max-width:400px;padding:8px;border:1px solid #d1d5db;border-radius:4px;">
                <option value="0">-- 请选择 --</option>
                @foreach (var t in types)
                {
                    if (t.Id == Model.ServiceTypeId)
                    {
                        <option value="@t.Id" selected>@t.Name</option>
                    }
                    else
                    {
                        <option value="@t.Id">@t.Name</option>
                    }
                }
            </select>
        </div>
        <div class="form-group">
            <label asp-for="Name">项目名称</label>
            <input asp-for="Name" placeholder="如：空调安装、热水器安装" />
        </div>
        <div class="form-group">
            <label asp-for="SortOrder">排序</label>
            <input asp-for="SortOrder" type="number" />
            <span style="font-size:12px; color:#6b7280;">数字越小越靠前</span>
        </div>
        <div class="form-group">
            <label class="checkbox">
                <input asp-for="IsEnabled" type="checkbox" /> 启用
            </label>
        </div>
        @Html.AntiForgeryToken()
        <button type="submit" class="btn btn-primary">保存</button>
        <a href="/ServiceItems?typeId=@Model.ServiceTypeId" class="btn btn-secondary">取消</a>
    </form>
</div>
